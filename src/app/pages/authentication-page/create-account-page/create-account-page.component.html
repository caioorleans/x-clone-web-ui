<div class="pl-6 pr-6 w-full md:w-96">
    @if(isPart1) {
    <div class="w-full">
        <h1 class="text-black-font dark:text-white-font text-2xl md:text-3xl font-chirp md:font-bold mb-8">Criar sua
            conta</h1>
        <form [formGroup]="form1">
            <div class="relative mb-5">
                <input type="text" id="nome" formControlName="nome"
                (keyup)="showErrors()"
                (focus)="form1.get('nome')?.markAsTouched()"
                    class="block px-2.5 pt-5 pb-5 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
                    placeholder=" " />
                <label for="nome"
                    class="absolute text-md text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-3 scale-75 top-1 z-10 origin-[0] bg-white dark:bg-black px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-1 peer-focus:scale-75 peer-focus:-translate-y-3 start-1 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto">
                    Nome
                </label>
            </div>
            <div *ngIf="form1.get('nome')?.hasError('invalidName') && form1.get('nome')?.touched" class="mb-5">
                <span class="mb-5 text-sm text-red-600 dark:text-red-500">Somente são aceitos caracteres alfabéticos e espaço.</span>
            </div>
            <div *ngIf="form1.get('nome')?.hasError('minSize') && form1.get('nome')?.touched" class="mb-5">
                <span class="mb-5 text-sm text-red-600 dark:text-red-500">
                    Deve conter ao menos 4 caracteres.
                </span>
            </div>
            <div *ngIf="form1.get('nome')?.hasError('maxSize') && form1.get('nome')?.touched" class="mb-5">
                <span class="mb-5 text-sm text-red-600 dark:text-red-500">
                    Deve conter no máximo 50 caracteres.
                </span>
            </div>
            <div class="relative mb-5">
                <input type="email" id="email" formControlName="email"
                    (focus)="form1.get('email')?.markAsTouched()"
                    class="block px-2.5 pt-5 pb-5 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
                    placeholder=" " />
                <label for="email"
                    class="absolute text-md text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-3 scale-75 top-1 z-10 origin-[0] bg-white dark:bg-black px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-1 peer-focus:scale-75 peer-focus:-translate-y-3 start-1 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto">
                    E-mail
                </label>
            </div>

            <div *ngIf="form1.get('email')?.invalid && form1.get('email')?.touched" class="mb-5">
                <span class="mb-5 text-sm text-red-600 dark:text-red-500">Insira um email válido.</span>
            </div>
            <div *ngIf="showError" class="mb-5">
                <span class="mb-5 text-sm text-red-600 dark:text-red-500">E-mail já cadastrado.</span>
            </div>

            <h2 class="text-black-font dark:text-white-font font-chirp text-sm md:text-md mb-2">Data de nascimento</h2>
            <p class="text-light-gray-font text-xs text-chirp mb-4">Isso não será exibido publicamente. Confirme sua
                própria idade, mesmo se esta conta for de empresa, de um animal de estimação ou outros.</p>
            <div class="relative mb-5">
                <input type="date" id="date" formControlName="birthday"
                    (focus)="form1.get('birthday')?.markAsTouched()"
                    class="block px-2.5 pt-5 pb-5 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
                    placeholder=" " />
                <label for="date"
                    class="absolute text-md text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-3 scale-75 top-1 z-10 origin-[0] bg-white dark:bg-black px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-1 peer-focus:scale-75 peer-focus:-translate-y-3 start-1 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto">
                    Data de nascimento
                </label>
            </div>
            <div *ngIf="form1.get('birthday')?.hasError('invalidDate') && form1.get('birthday')?.touched" class="mb-5">
                <span class="mb-5 text-sm text-red-600 dark:text-red-500">Insira uma data válida válido.</span>
            </div>
            <div *ngIf="form1.get('birthday')?.hasError('tooOld') && form1.get('birthday')?.touched" class="mb-5">
                <span class="mb-5 text-sm text-red-600 dark:text-red-500">Ninguém é tão velho assim.</span>
            </div>
            <div *ngIf="form1.get('birthday')?.hasError('notOldEnough') && form1.get('birthday')?.touched" class="mb-5">
                <span class="mb-5 text-sm text-red-600 dark:text-red-500">É necessário ter 18 anos para se cadastrar.</span>
            </div>
        </form>
    </div>

    }
    @else{
    <div class="w-full">
        <h1 class="text-black-font dark:text-white-font text-2xl md:text-3xl font-chirp md:font-bold mb-8">Criar sua
            conta</h1>
        <form [formGroup]="form2">
            <div class="relative mb-5">
                <input type="text" id="username" formControlName="username"
                (keyup)="form2.get('username')?.markAsTouched()"
                    class="block px-2.5 pt-5 pb-5 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
                    placeholder=" " />
                <label for="username"
                    class="absolute text-md text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-3 scale-75 top-1 z-10 origin-[0] bg-white dark:bg-black px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-1 peer-focus:scale-75 peer-focus:-translate-y-3 start-1 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto">
                    Nome de usuário
                </label>
            </div>
            <div *ngIf="showError" class="mb-5">
                <span class="mb-5 text-sm text-red-600 dark:text-red-500">Nome de usuário já em uso.</span>
            </div>
            <div *ngIf="form2.get('username')?.hasError('invalidName') && form2.get('username')?.touched" class="mb-5">
                <span class="mb-5 text-sm text-red-600 dark:text-red-500">Somente são aceitos caracteres alfanuméricos e _.</span>
            </div>
            <div *ngIf="form2.get('username')?.hasError('minSize') && form2.get('username')?.touched" class="mb-5">
                <span class="mb-5 text-sm text-red-600 dark:text-red-500">
                    Deve conter ao menos 4 caracteres.
                </span>
            </div>
            <div *ngIf="form2.get('usernome')?.hasError('maxSize') && form2.get('usernamenome')?.touched" class="mb-5">
                <span class="mb-5 text-sm text-red-600 dark:text-red-500">
                    Deve conter no máximo 20 caracteres.
                </span>
            </div>

            <h2 class="text-black-font dark:text-white-font font-chirp text-sm md:text-md mb-2">Digite sua senha</h2>
            <div class="relative mb-5">
                <input type="password" id="password" formControlName="password"
                    (keyup)="form2.get('password')?.markAsTouched()"
                    class="block px-2.5 pt-5 pb-5 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
                    placeholder=" " />
                <label for="password"
                    class="absolute text-md text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-3 scale-75 top-1 z-10 origin-[0] bg-white dark:bg-black px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-1 peer-focus:scale-75 peer-focus:-translate-y-3 start-1 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto">
                    Senha
                </label>
            </div>
            <div *ngIf="form2.get('password')?.hasError('invalidPassword') && form2.get('password')?.touched" class="mb-5">
                <span class="mb-5 text-sm text-red-600 dark:text-red-500">Somente são aceitos caracteres alfanuméricos, !, &#64;, #, $, %, &, *.</span>
            </div>
            <div *ngIf="form2.get('password')?.hasError('minSize') && form2.get('password')?.touched" class="mb-5">
                <span class="mb-5 text-sm text-red-600 dark:text-red-500">
                    Deve conter ao menos 4 caracteres.
                </span>
            </div>
            <div *ngIf="form2.get('password')?.hasError('maxSize') && form2.get('password')?.touched" class="mb-5">
                <span class="mb-5 text-sm text-red-600 dark:text-red-500">
                    Deve conter no máximo 20 caracteres.
                </span>
            </div>
            <div class="relative mb-5">
                <input type="password" id="password-confirmation" formControlName="passwordConfirmation"
                    (keyup)="form2.get('passwordConfirmation')?.markAsTouched()"
                    class="block px-2.5 pt-5 pb-5 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
                    placeholder=" " />
                <label for="password-confirmation"
                    class="absolute text-md text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-3 scale-75 top-1 z-10 origin-[0] bg-white dark:bg-black px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-1 peer-focus:scale-75 peer-focus:-translate-y-3 start-1 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto">
                    Confirmação de senha
                </label>
            </div>
            <div *ngIf="form2.get('passwordConfirmation')?.value !== form2.get('password')?.value && form2.get('passwordConfirmation')?.touched" class="mb-5">
                <span class="mb-5 text-sm text-red-600 dark:text-red-500">
                    Deve ser identico à senha.
                </span>
            </div>
        </form>
    </div>
    }
</div>
<div class="absolute bottom-0 left-0 w-full h-20 bg-white dark:bg-black md:rounded-2xl flex flex-col items-center justify-center">
    <div class="w-96 pl-6 pr-6">
        @if(isPart1) {<app-bw-button (click)="goNext()" [text]="'Prosseguir'"  [isActive]="!form1.invalid" [isLoading]="isLoading"/>}
        @else{
            @if(!form2.invalid && form2.get('passwordConfirmation')?.value === form2.get('password')?.value){
                <app-blue-button [text]="'Cadastrar'" [isLoading]="isLoading" (click)="createAccount()"></app-blue-button>
            }
            @else{<app-bw-button (click)="goBack()" [text]="'Voltar'"/>}
        }
    </div>
</div>